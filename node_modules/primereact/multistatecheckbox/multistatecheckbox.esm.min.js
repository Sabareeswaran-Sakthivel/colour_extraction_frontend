import*as e from"react";import{ariaLabel as t}from"primereact/api";import{useMountEffect as n}from"primereact/hooks";import{Tooltip as o}from"primereact/tooltip";import{ObjectUtils as l,DomHandler as r,classNames as a}from"primereact/utils";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function u(e){if(Array.isArray(e))return e}function c(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,l,r=[],a=!0,i=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,l=e}finally{try{a||null==n.return||n.return()}finally{if(i)throw l}}return r}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function s(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var m=e.memo(e.forwardRef((function(p,d){var y,b,v=e.useState(!1),h=(b=2,u(y=v)||c(y,b)||s(y,b)||f()),g=h[0],x=h[1],E=e.useRef(null),O=p.optionValue?null:p.dataKey,k=function(e){return p.optionValue?l.resolveFieldData(e,p.optionValue):e},N=function(e){if(p.onChange){var t=k(p.options?C===p.options.length-1?p.empty?null:p.options[0]:p.options[C+1]:null);p.onChange({originalEvent:e,value:t,stopPropagation:function(){},preventDefault:function(){},target:{name:p.name,id:p.id,value:t}})}};e.useImperativeHandle(d,(function(){return{props:p,getElement:function(){return E.current}}})),n((function(){p.empty||null!==p.value||N()}));var S,I,w=(p.options&&(I=p.options.findIndex((function(e){return l.equals(p.value,k(e),O)})),S=p.options[I]),{option:S,index:I}),A=w.option,C=w.index,P=l.isNotEmpty(p.tooltip),j=l.findDiffKeys(p,m.defaultProps),D=l.reduceKeys(j,r.ARIA_PROPS),K=a("p-multistatecheckbox p-checkbox p-component",p.className),T=a("p-checkbox-box",{"p-highlight":!!A,"p-disabled":p.disabled,"p-focus":g},A&&A.className),V=function(){var t,n,o,r=a("p-checkbox-icon p-c",(t={},n="".concat(A&&A.icon||""),o=!0,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t)),i=e.createElement("span",{className:r});return p.iconTemplate?l.getJSXElement(p.iconTemplate,{option:A,className:r,element:i,props:p}):i}(),F=A?function(e){var t=p.optionLabel||p.optionValue;return t?l.resolveFieldData(e,t):e}(A):t("nullLabel"),R=A?"true":"false";return e.createElement(e.Fragment,null,e.createElement("div",i({ref:E,id:p.id,className:K,style:p.style},j,{onClick:function(e){p.disabled||p.readOnly||N(e)}}),e.createElement("div",i({className:T,style:A&&A.style,tabIndex:p.tabIndex,onFocus:function(){x(!0)},onBlur:function(){x(!1)},onKeyDown:function(e){32===e.keyCode&&(N(e),e.preventDefault())},role:"checkbox","aria-checked":R},D),V),g&&e.createElement("span",{className:"p-sr-only","aria-live":"polite"},F)),P&&e.createElement(o,i({target:E,content:p.tooltip},p.tooltipOptions)))})));m.displayName="MultiStateCheckbox",m.defaultProps={__TYPE:"MultiStateCheckbox",id:null,value:null,options:null,optionValue:null,optionLabel:null,iconTemplate:null,dataKey:null,style:null,className:null,disabled:!1,readOnly:!1,empty:!0,tabIndex:"0",tooltip:null,tooltipOptions:null,onChange:null};export{m as MultiStateCheckbox};
