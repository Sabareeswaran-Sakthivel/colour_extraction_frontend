"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/keyfilter"),n=require("primereact/tooltip"),l=require("primereact/utils");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=r(e);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},i.apply(this,arguments)}var a=o.memo(o.forwardRef((function(e,r){var u=o.useRef(r),s=o.useRef(0),c=function(e){var t=u.current;t&&l.DomHandler.isVisible(t)&&(s.current||(s.current=t.scrollHeight,t.style.overflow="hidden"),(s.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",s.current=t.scrollHeight))},p=u.current&&u.current.value,f=o.useMemo((function(){return l.ObjectUtils.isNotEmpty(e.value)||l.ObjectUtils.isNotEmpty(e.defaultValue)||l.ObjectUtils.isNotEmpty(p)}),[e.value,e.defaultValue,p]);o.useEffect((function(){l.ObjectUtils.combinedRefs(u,r)}),[u,r]),o.useEffect((function(){e.autoResize&&c(!0)}),[e.autoResize]);var y=l.ObjectUtils.isNotEmpty(e.tooltip),d=l.ObjectUtils.findDiffKeys(e,a.defaultProps),m=l.classNames("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":f,"p-inputtextarea-resizable":e.autoResize},e.className);return o.createElement(o.Fragment,null,o.createElement("textarea",i({ref:u},d,{className:m,onFocus:function(t){e.autoResize&&c(),e.onFocus&&e.onFocus(t)},onBlur:function(t){e.autoResize&&c(),e.onBlur&&e.onBlur(t)},onKeyUp:function(t){e.autoResize&&c(),e.onKeyUp&&e.onKeyUp(t)},onKeyDown:function(n){e.onKeyDown&&e.onKeyDown(n),e.keyfilter&&t.KeyFilter.onKeyPress(n,e.keyfilter,e.validateOnly)},onInput:function(t){e.autoResize&&c(),e.onInput&&e.onInput(t);var n=t.target;l.ObjectUtils.isNotEmpty(n.value)?l.DomHandler.addClass(n,"p-filled"):l.DomHandler.removeClass(n,"p-filled")},onPaste:function(n){e.onPaste&&e.onPaste(n),e.keyfilter&&t.KeyFilter.onPaste(n,e.keyfilter,e.validateOnly)}})),y&&o.createElement(n.Tooltip,i({target:u,content:e.tooltip},e.tooltipOptions)))})));a.displayName="InputTextarea",a.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1},exports.InputTextarea=a;
