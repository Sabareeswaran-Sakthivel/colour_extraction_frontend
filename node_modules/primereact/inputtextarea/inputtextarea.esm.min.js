import*as e from"react";import{KeyFilter as t}from"primereact/keyfilter";import{Tooltip as o}from"primereact/tooltip";import{ObjectUtils as n,classNames as l,DomHandler as r}from"primereact/utils";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i.apply(this,arguments)}var a=e.memo(e.forwardRef((function(u,s){var p=e.useRef(s),f=e.useRef(0),c=function(e){var t=p.current;t&&r.isVisible(t)&&(f.current||(f.current=t.scrollHeight,t.style.overflow="hidden"),(f.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",f.current=t.scrollHeight))},y=p.current&&p.current.value,m=e.useMemo((function(){return n.isNotEmpty(u.value)||n.isNotEmpty(u.defaultValue)||n.isNotEmpty(y)}),[u.value,u.defaultValue,y]);e.useEffect((function(){n.combinedRefs(p,s)}),[p,s]),e.useEffect((function(){u.autoResize&&c(!0)}),[u.autoResize]);var d=n.isNotEmpty(u.tooltip),h=n.findDiffKeys(u,a.defaultProps),v=l("p-inputtextarea p-inputtext p-component",{"p-disabled":u.disabled,"p-filled":m,"p-inputtextarea-resizable":u.autoResize},u.className);return e.createElement(e.Fragment,null,e.createElement("textarea",i({ref:p},h,{className:v,onFocus:function(e){u.autoResize&&c(),u.onFocus&&u.onFocus(e)},onBlur:function(e){u.autoResize&&c(),u.onBlur&&u.onBlur(e)},onKeyUp:function(e){u.autoResize&&c(),u.onKeyUp&&u.onKeyUp(e)},onKeyDown:function(e){u.onKeyDown&&u.onKeyDown(e),u.keyfilter&&t.onKeyPress(e,u.keyfilter,u.validateOnly)},onInput:function(e){u.autoResize&&c(),u.onInput&&u.onInput(e);var t=e.target;n.isNotEmpty(t.value)?r.addClass(t,"p-filled"):r.removeClass(t,"p-filled")},onPaste:function(e){u.onPaste&&u.onPaste(e),u.keyfilter&&t.onPaste(e,u.keyfilter,u.validateOnly)}})),d&&e.createElement(o,i({target:p,content:u.tooltip},u.tooltipOptions)))})));a.displayName="InputTextarea",a.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1};export{a as InputTextarea};
