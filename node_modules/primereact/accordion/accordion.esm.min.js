import*as e from"react";import{ariaLabel as r}from"primereact/api";import{CSSTransition as n}from"primereact/csstransition";import{useMountEffect as t}from"primereact/hooks";import{UniqueComponentId as a,ObjectUtils as o,classNames as l,IconUtils as i}from"primereact/utils";function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},c.apply(this,arguments)}function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function u(e){if(Array.isArray(e))return p(e)}function d(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e,r){if(e){if("string"==typeof e)return p(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,r):void 0}}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){if(Array.isArray(e))return e}function y(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(t=n.next()).done)&&(o.push(t.value),!r||o.length!==r);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,r){return b(e)||y(e,r)||f(e,r)||h()}function g(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?g(Object(n),!0).forEach((function(r){s(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var E=function(){},N=function(e){return e&&"AccordionTab"===e.props.__TYPE},j=e.forwardRef((function(s,p){var b=v(e.useState(s.id),2),y=b[0],h=b[1],g=v(e.useState(s.activeIndex),2),T=g[0],S=g[1],x=e.useRef(null),I=s.onTabChange?s.activeIndex:T,P=function(e,r,n){if(!r.props.disabled){var t=w(n),a=null;if(s.multiple){var o=I||[];a=t?o.filter((function(e){return e!==n})):[].concat(u(i=o)||d(i)||f(i)||m(),[n])}else a=t?null:n;var l=t?s.onTabClose:s.onTabOpen;l&&l({originalEvent:e,index:n}),s.onTabChange?s.onTabChange({originalEvent:e,index:a}):S(a)}var i;e.preventDefault()},w=function(e){return s.multiple?I&&I.some((function(r){return r===e})):I===e};if(e.useImperativeHandle(p,(function(){return{props:s,getElement:function(){return x.current}}})),t((function(){y||h(a())})),!y)return null;var _=function(n,t,a){var c=O(O({},n.props.style||{}),n.props.headerStyle||{}),p=l("p-accordion-header",{"p-highlight":t,"p-disabled":n.props.disabled},n.props.headerClassName,n.props.className),u=y+"_header_"+a,d=y+"_content_"+a,f=n.props.disabled?-1:n.props.tabIndex,m=n.props.headerTemplate?o.getJSXElement(n.props.headerTemplate,n.props):e.createElement("span",{className:"p-accordion-header-text"},n.props.header),b=i.getJSXIcon(t?s.collapseIcon:s.expandIcon,{className:"p-accordion-toggle-icon"},{props:s,selected:t}),h=r(t?"collapseLabel":"expandLabel");return e.createElement("div",{className:p,style:c},e.createElement("a",{href:"#"+d,id:u,className:"p-accordion-header-link","aria-controls":d,role:"tab","aria-expanded":t,onClick:function(e){return P(e,n,a)},tabIndex:f,"aria-label":h},b,m))},A=function(r,t,a){var o=O(O({},r.props.style||{}),r.props.contentStyle||{}),i=l("p-toggleable-content",r.props.contentClassName,r.props.className),c=y+"_content_"+a,p=y+"_header_"+a,u=e.createRef();return e.createElement(n,{nodeRef:u,classNames:"p-toggleable-content",timeout:{enter:1e3,exit:450},in:t,unmountOnExit:!0,options:s.transitionOptions},e.createElement("div",{ref:u,id:c,className:i,style:o,role:"region","aria-labelledby":p},e.createElement("div",{className:"p-accordion-content"},r.props.children)))},C=function(r,n){if(N(r)){var t=y+"_"+n,a=w(n),i=o.findDiffKeys(r.props,E.defaultProps),s=_(r,a,n),p=A(r,a,n),u=l("p-accordion-tab",{"p-accordion-tab-active":a});return e.createElement("div",c({key:t,className:u},i),s,p)}return null},D=o.findDiffKeys(s,j.defaultProps),k=l("p-accordion p-component",s.className),R=e.Children.map(s.children,C);return e.createElement("div",c({id:y,ref:x,className:k,style:s.style},D),R)}));E.displayName="AccordionTab",E.defaultProps={__TYPE:"AccordionTab",className:null,contentClassName:null,contentStyle:null,disabled:!1,header:null,headerClassName:null,headerStyle:null,headerTemplate:null,style:null,tabIndex:0},j.displayName="Accordion",j.defaultProps={__TYPE:"Accordion",id:null,activeIndex:null,className:null,style:null,multiple:!1,expandIcon:"pi pi-chevron-right",collapseIcon:"pi pi-chevron-down",transitionOptions:null,onTabOpen:null,onTabClose:null,onTabChange:null};export{j as Accordion,E as AccordionTab};
